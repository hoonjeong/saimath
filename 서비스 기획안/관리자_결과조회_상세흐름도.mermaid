graph TD
    Start[결과 보기 메뉴 선택] --> ResultHome[결과 조회 홈]
    ResultHome --> FilterOptions[조회 옵션]
    
    FilterOptions --> FilterType{조회 방식}
    FilterType -->|전체 보기| AllList[전체 학생 목록]
    FilterType -->|검색| SearchBox[검색창]
    FilterType -->|필터| FilterMenu[필터 메뉴]
    
    SearchBox --> SearchInput[이름 또는<br/>전화번호 입력]
    SearchInput --> SearchBtn[검색 버튼]
    SearchBtn --> SearchResult{검색 결과}
    SearchResult -->|없음| NoResult[결과 없음<br/>다시 검색하기]
    NoResult --> SearchBox
    SearchResult -->|있음| StudentList
    
    FilterMenu --> FilterGrade[학년별 필터<br/>초1~초6]
    FilterGrade --> FilterSemester[학기별 필터<br/>1학기/2학기]
    FilterSemester --> FilterDate[기간별 필터<br/>최근 1주일/1개월]
    FilterDate --> ApplyFilter[필터 적용]
    ApplyFilter --> StudentList
    
    AllList --> StudentList[학생 목록 테이블]
    StudentList --> TableHeader[테이블 헤더<br/>이름 | 학년 | 응시횟수 | 최근응시일]
    TableHeader --> TableRows[학생 행 목록<br/>클릭 가능]
    
    TableRows --> SelectStudent[학생 선택<br/>행 클릭]
    SelectStudent --> StudentDetail[학생 상세 페이지]
    
    StudentDetail --> StudentInfo[학생 기본정보<br/>- 이름<br/>- 전화번호<br/>- 총 응시 횟수]
    StudentInfo --> TestHistoryList[응시 이력 목록]
    
    TestHistoryList --> HistorySort[정렬 기준<br/>최신순 기본]
    HistorySort --> HistoryTable[응시 이력 테이블<br/>날짜 | 학년학기 | 점수 | 상세보기]
    HistoryTable --> SelectHistory[특정 응시 선택<br/>행 클릭]
    
    SelectHistory --> DetailView[상세 결과 화면]
    DetailView --> TestInfo[시험 정보<br/>- 응시 일시<br/>- 학년/학기<br/>- 총점]
    
    TestInfo --> QuestionResults[문제별 결과]
    QuestionResults --> Loop[25문제 반복 표시]
    Loop --> QuestionItem[문제 N번]
    QuestionItem --> ShowProblem[문제 내용<br/>이미지/선지]
    ShowProblem --> StudentAnswer[학생 답안<br/>선택한 번호]
    StudentAnswer --> CorrectAnswer[정답<br/>정답 번호]
    CorrectAnswer --> Result{정답 여부}
    
    Result -->|정답| MarkCorrect[O 표시<br/>파란색]
    Result -->|오답| MarkWrong[X 표시<br/>빨간색]
    
    MarkCorrect --> NextItem{다음 문제}
    MarkWrong --> NextItem
    NextItem -->|있음| QuestionItem
    NextItem -->|끝| Summary
    
    Summary[결과 요약]
    Summary --> TotalScore[총점: XX/100점]
    TotalScore --> CorrectCount[정답 수: XX/25개]
    CorrectCount --> WrongCount[오답 수: XX/25개]
    WrongCount --> Percentage[정답률: XX%]
    
    Percentage --> Actions[액션 버튼]
    Actions --> PrintBtn[인쇄하기]
    Actions --> ExportBtn[엑셀 다운로드]
    Actions --> BackBtn[목록으로 돌아가기]
    
    PrintBtn --> PrintView[인쇄 미리보기]
    ExportBtn --> DownloadFile[파일 다운로드]
    BackBtn --> TestHistoryList
    
    %% 추가 기능
    DetailView -.->|비교 기능| Compare[이전 결과와 비교<br/>점수 변화 그래프]
    
    classDef listColor fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef detailColor fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
    classDef correctColor fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    classDef wrongColor fill:#ffebee,stroke:#c62828,stroke-width:2px
    
    class StudentList,TableHeader,TableRows,HistoryTable listColor
    class DetailView,TestInfo,QuestionResults,Summary detailColor
    class MarkCorrect,TotalScore,CorrectCount correctColor
    class MarkWrong,WrongCount wrongColor
